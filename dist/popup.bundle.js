/*! For license information please see popup.bundle.js.LICENSE.txt */
function e(){var n,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function c(e,o,a,i){var c=o&&o.prototype instanceof l?o:l,s=Object.create(c.prototype);return t(s,"_invoke",function(e,t,o){var a,i,c,l=0,s=o||[],f=!1,d={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(e,t){return a=e,i=0,c=n,d.n=t,u}};function v(e,t){for(i=e,c=t,r=0;!f&&l&&!o&&r<s.length;r++){var o,a=s[r],v=d.p,g=a[2];e>3?(o=g===t)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=v&&((o=e<2&&v<a[1])?(i=0,d.v=t,d.n=a[1]):v<g&&(o=e<3||a[0]>t||t>g)&&(a[4]=e,a[5]=t,d.n=g,i=0))}if(o||e>1)return u;throw f=!0,t}return function(o,s,g){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,g),i=s,c=g;(r=i<2?n:c)||!f;){a||(i?i<3?(i>1&&(d.n=-1),v(i,c)):d.n=c:d.v=c);try{if(l=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=n}else if((r=(f=d.n<0)?c:e.call(t,d))!==u)break}catch(e){a=n,i=1,c=e}finally{l=1}}return{value:r,done:f}}}(e,a,i),!0),s}var u={};function l(){}function s(){}function f(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(t(r={},a,function(){return this}),r),v=f.prototype=l.prototype=Object.create(d);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,t(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return s.prototype=f,t(v,"constructor",f),t(f,"constructor",s),s.displayName="GeneratorFunction",t(f,i,"GeneratorFunction"),t(v),t(v,i,"Generator"),t(v,a,function(){return this}),t(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m:g}})()}function t(e,n,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}t=function(e,n,r,o){function i(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?a?a(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r:(i("next",0),i("throw",1),i("return",2))},t(e,n,r,o)}function n(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(o,a){var i=e.apply(t,r);function c(e){n(i,o,a,c,u,"next",e)}function u(e){n(i,o,a,c,u,"throw",e)}c(void 0)})}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i={angry:["horrible","hate","angry","despicable","annoying"],happy:["happy","fun","excited","love"],sad:["sad","depressed","cry","alone","isolated"]};document.getElementById("checkText").addEventListener("click",function(){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.scripting.executeScript({target:{tabId:e[0].id},func:function(){return window.getSelection().toString().trim()}},function(e){var t=function(e){var t;return(null===(t={angry:["Try: 'I feel frustrated because...'","Reword: 'Let's find a solution together.'"],sad:["It's okay to say: 'I've been feeling down about...'"]}[e])||void 0===t?void 0:t[0])||"Sounds good to send!"}(function(e){e=e.toLowerCase();for(var t=0,n=Object.entries(i);t<n.length;t++){var r=o(n[t],2),a=r[0];if(r[1].some(function(t){return e.includes(t)}))return a}return"neutral"}(e[0].result));document.getElementById("suggestion").textContent=t})})});var c=document.getElementById("toggle");function u(){return(u=r(e().m(function t(){var n,r;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.runtime.sendMessage({action:"getSetting",key:"vibeCheckEnabled"});case 1:(n=e.v).success&&void 0!==n.value?(c.checked=n.value,console.log("Loaded toggle state:",n.value)):(c.checked=!0,console.log("No saved toggle state found, defaulting to enabled.")),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Error loading toggle state:",r),c.checked=!0;case 3:return e.a(2)}},t,null,[[0,2]])}))).apply(this,arguments)}function l(){return(l=r(e().m(function t(n){var r,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.runtime.sendMessage({action:"saveSetting",key:"vibeCheckEnabled",value:n});case 1:(r=e.v).success?console.log("Saved toggle state:",n):console.error("Error saving toggle state:",r.error),e.n=3;break;case 2:e.p=2,o=e.v,console.error("Error saving toggle state (communication issue):",o);case 3:return e.a(2)}},t,null,[[0,2]])}))).apply(this,arguments)}c.addEventListener("change",function(e){!function(e){l.apply(this,arguments)}(e.target.checked)}),document.addEventListener("DOMContentLoaded",function(){return u.apply(this,arguments)});
//# sourceMappingURL=popup.bundle.js.map