/*! For license information please see popup.bundle.js.LICENSE.txt */
function e(){var n,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function u(e,o,i,c){var u=o&&o.prototype instanceof s?o:s,l=Object.create(u.prototype);return t(l,"_invoke",function(e,t,o){var i,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:n,a:g,f:g.bind(n,4),d:function(e,t){return i=e,c=0,u=n,d.n=t,a}};function g(e,t){for(c=e,u=t,r=0;!f&&s&&!o&&r<l.length;r++){var o,i=l[r],g=d.p,v=i[2];e>3?(o=v===t)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=n):i[0]<=g&&((o=e<2&&g<i[1])?(c=0,d.v=t,d.n=i[1]):g<v&&(o=e<3||i[0]>t||t>v)&&(i[4]=e,i[5]=t,d.n=v,c=0))}if(o||e>1)return a;throw f=!0,t}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&g(l,v),c=l,u=v;(r=c<2?n:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),g(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(c||(o="next"),r=i[o]){if(!(r=r.call(i,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,c<2&&(c=0)}else 1===c&&(r=i.return)&&r.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=n}else if((r=(f=d.n<0)?u:e.call(t,d))!==a)break}catch(e){i=n,c=1,u=e}finally{s=1}}return{value:r,done:f}}}(e,i,c),!0),l}var a={};function s(){}function l(){}function f(){}r=Object.getPrototypeOf;var d=[][i]?r(r([][i]())):(t(r={},i,function(){return this}),r),g=f.prototype=s.prototype=Object.create(d);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,t(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e}return l.prototype=f,t(g,"constructor",f),t(f,"constructor",l),l.displayName="GeneratorFunction",t(f,c,"GeneratorFunction"),t(g),t(g,c,"Generator"),t(g,i,function(){return this}),t(g,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:v}})()}function t(e,n,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}t=function(e,n,r,o){function c(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?i?i(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r:(c("next",0),c("throw",1),c("return",2))},t(e,n,r,o)}function n(e,t,n,r,o,i,c){try{var u=e[i](c),a=u.value}catch(e){return void n(e)}u.done?t(a):Promise.resolve(a).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var c=e.apply(t,r);function u(e){n(c,o,i,u,a,"next",e)}function a(e){n(c,o,i,u,a,"throw",e)}u(void 0)})}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}document.getElementById("checkText").addEventListener("click",function(){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.scripting.executeScript({target:{tabId:e[0].id},func:function(){return window.getSelection().toString().trim()}},function(e){var t=e[0].result;t?chrome.runtime.sendMessage({action:"getRewriteSuggestions"},function(e){if(e.success){var n=e.data,r=function(e,t){var n=t.find(function(t){return t.emotion===e});return n?n.suggestion:"Sounds good to send!"}(function(e,t){e=e.toLowerCase();var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,c=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw c}}}}(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.keywords.some(function(t){return e.includes(t)}))return i.emotion}}catch(e){r.e(e)}finally{r.f()}return"neutral"}(t,n),n);document.getElementById("suggestion").textContent=r}else console.error("Failed to fetch rewrite suggestions:",e.error),document.getElementById("suggestion").textContent="Error fetching suggestions."}):document.getElementById("suggestion").textContent="Please select some text to check."})})});var i=document.getElementById("toggle");function c(){return(c=r(e().m(function t(){var n,r;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.runtime.sendMessage({action:"getSetting",key:"vibeCheckEnabled"});case 1:(n=e.v).success&&void 0!==n.value?(i.checked=n.value,console.log("Loaded toggle state:",n.value)):(i.checked=!0,console.log("No saved toggle state found, defaulting to enabled.")),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Error loading toggle state:",r),i.checked=!0;case 3:return e.a(2)}},t,null,[[0,2]])}))).apply(this,arguments)}function u(){return(u=r(e().m(function t(n){var r,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.runtime.sendMessage({action:"saveSetting",key:"vibeCheckEnabled",value:n});case 1:(r=e.v).success?console.log("Saved toggle state:",n):console.error("Error saving toggle state:",r.error),e.n=3;break;case 2:e.p=2,o=e.v,console.error("Error saving toggle state (communication issue):",o);case 3:return e.a(2)}},t,null,[[0,2]])}))).apply(this,arguments)}i.addEventListener("change",function(e){!function(e){u.apply(this,arguments)}(e.target.checked)}),document.addEventListener("DOMContentLoaded",function(){return c.apply(this,arguments)});
//# sourceMappingURL=popup.bundle.js.map