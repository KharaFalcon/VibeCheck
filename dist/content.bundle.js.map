{"version":3,"file":"content.bundle.js","mappings":"AAoBA","sources":["webpack://toneguard-extension/./src/hightlighText.js"],"sourcesContent":["/*\nThis js file scans the text you highlight in your email software and sends it to the extension\n*/\n\n// Helper function to check if the text selection is in an email input field\nfunction isEmailField() {\n  // Gets the currently focused element (where the cursor is blinking -\n  // in this case its going to be the Gmail compose box)\n  const focusedEl = document.activeElement;\n\n  return (\n    // Checking whether the focusedEl it's a <textarea> (standard HTML input field) or\n    // a <div> with role=\"textbox\" (Gmail/Outlook uses these)\n    // and returns the appropriate one\n    focusedEl.tagName === 'TEXTAREA' ||\n    focusedEl.getAttribute('role') === 'textbox'\n  );\n}\n\n// Listening for mouse-up events (when you finish selecting text)\ndocument.addEventListener('mouseup', () => {\n  // Gets the selected text and remove extra spaces\n  const selectedText = window.getSelection().toString().trim();\n\n  // Checking if the text is selected AND is in an email field\n  if (selectedText && isEmailField()) {\n    // Sends the text to the extension's popup\n    chrome.runtime.sendMessage({ text: selectedText });\n  }\n});\n"],"names":[],"sourceRoot":""}